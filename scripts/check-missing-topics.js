const { createClient } = require('@supabase/supabase-js');

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL,
  process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY
);

// All acronyms/terms from the list to check
const checkList = [
  { num: 1, abbr: 'AAA', full: 'Authentication, Authorization, and Accounting' },
  { num: 2, abbr: 'ACL', full: 'Access Control List' },
  { num: 3, abbr: 'AES', full: 'Advanced Encryption Standard' },
  { num: 4, abbr: 'AES-256', full: 'Advanced Encryption Standards 256-bit' },
  { num: 5, abbr: 'AH', full: 'Authentication Header' },
  { num: 6, abbr: 'AI', full: 'Artificial Intelligence' },
  { num: 7, abbr: 'AIS', full: 'Automated Indicator Sharing' },
  { num: 8, abbr: 'ALE', full: 'Annualized Loss Expectancy' },
  { num: 9, abbr: 'AP', full: 'Access Point' },
  { num: 10, abbr: 'API', full: 'Application Programming Interface' },
  { num: 11, abbr: 'APT', full: 'Advanced Persistent Threat' },
  { num: 12, abbr: 'ARO', full: 'Annualized Rate of Occurrence' },
  { num: 13, abbr: 'ARP', full: 'Address Resolution Protocol' },
  { num: 14, abbr: 'ASLR', full: 'Address Space Layout Randomization' },
  { num: 15, abbr: 'ATT&CK', full: 'Adversarial Tactics, Techniques, and Common Knowledge' },
  { num: 16, abbr: 'AUP', full: 'Acceptable Use Policy' },
  { num: 17, abbr: 'AV', full: 'Antivirus' },
  { num: 18, abbr: 'BASH', full: 'Bourne Again Shell' },
  { num: 19, abbr: 'BCP', full: 'Business Continuity Planning' },
  { num: 20, abbr: 'BGP', full: 'Border Gateway Protocol' },
  { num: 21, abbr: 'BIA', full: 'Business Impact Analysis' },
  { num: 22, abbr: 'BIOS', full: 'Basic Input/Output System' },
  { num: 23, abbr: 'BPA', full: 'Business Partners Agreement' },
  { num: 24, abbr: 'BPDU', full: 'Bridge Protocol Data Unit' },
  { num: 25, abbr: 'BYOD', full: 'Bring Your Own Device' },
  { num: 26, abbr: 'CA', full: 'Certificate Authority' },
  { num: 27, abbr: 'CAPTCHA', full: 'Completely Automated Public Turing Test to Tell Computers and Humans Apart' },
  { num: 28, abbr: 'CAR', full: 'Corrective Action Report' },
  { num: 29, abbr: 'CASB', full: 'Cloud Access Security Broker' },
  { num: 30, abbr: 'CBC', full: 'Cipher Block Chaining' },
  { num: 31, abbr: 'CCMP', full: 'Counter Mode/CBC-MAC Protocol' },
  { num: 32, abbr: 'CCTV', full: 'Closed-circuit Television' },
  { num: 33, abbr: 'CERT', full: 'Computer Emergency Response Team' },
  { num: 34, abbr: 'CFB', full: 'Cipher Feedback' },
  { num: 35, abbr: 'CHAP', full: 'Challenge Handshake Authentication Protocol' },
  { num: 36, abbr: 'CIA', full: 'Confidentiality, Integrity, Availability' },
  { num: 37, abbr: 'CIO', full: 'Chief Information Officer' },
  { num: 38, abbr: 'CIRT', full: 'Computer Incident Response Team' },
  { num: 39, abbr: 'CMS', full: 'Content Management System' },
  { num: 40, abbr: 'COOP', full: 'Continuity of Operation Planning' },
  { num: 41, abbr: 'COPE', full: 'Corporate Owned, Personally Enabled' },
  { num: 42, abbr: 'CP', full: 'Contingency Planning' },
  { num: 43, abbr: 'CRC', full: 'Cyclical Redundancy Check' },
  { num: 44, abbr: 'CRL', full: 'Certificate Revocation List' },
  { num: 45, abbr: 'CSO', full: 'Chief Security Officer' },
  { num: 46, abbr: 'CSP', full: 'Cloud Service Provider' },
  { num: 47, abbr: 'CSR', full: 'Certificate Signing Request' },
  { num: 48, abbr: 'CSRF', full: 'Cross-site Request Forgery' },
  { num: 49, abbr: 'CSU', full: 'Channel Service Unit' },
  { num: 50, abbr: 'CTM', full: 'Counter Mode' },
  { num: 51, abbr: 'CTO', full: 'Chief Technology Officer' },
  { num: 52, abbr: 'CVE', full: 'Common Vulnerability Enumeration' },
  { num: 53, abbr: 'CVSS', full: 'Common Vulnerability Scoring System' },
  { num: 54, abbr: 'CYOD', full: 'Choose Your Own Device' },
  { num: 55, abbr: 'DAC', full: 'Discretionary Access Control' },
  { num: 56, abbr: 'DBA', full: 'Database Administrator' },
  { num: 57, abbr: 'DDoS', full: 'Distributed Denial of Service' },
  { num: 58, abbr: 'DEP', full: 'Data Execution Prevention' },
  { num: 59, abbr: 'DES', full: 'Digital Encryption Standard' },
  { num: 60, abbr: 'DHCP', full: 'Dynamic Host Configuration Protocol' },
  { num: 61, abbr: 'DHE', full: 'Diffie-Hellman Ephemeral' },
  { num: 62, abbr: 'DKIM', full: 'DomainKeys Identified Mail' },
  { num: 63, abbr: 'DLL', full: 'Dynamic Link Library' },
  { num: 64, abbr: 'DLP', full: 'Data Loss Prevention' },
  { num: 65, abbr: 'DMARC', full: 'Domain Message Authentication Reporting and Conformance' },
  { num: 66, abbr: 'DNAT', full: 'Destination Network Address Translation' },
  { num: 67, abbr: 'DNS', full: 'Domain Name System' },
  { num: 68, abbr: 'DoS', full: 'Denial of Service' },
  { num: 69, abbr: 'DPO', full: 'Data Privacy Officer' },
  { num: 70, abbr: 'DRP', full: 'Disaster Recovery Plan' },
  { num: 71, abbr: 'DSA', full: 'Digital Signature Algorithm' },
  { num: 72, abbr: 'DSL', full: 'Digital Subscriber Line' },
  { num: 73, abbr: 'EAP', full: 'Extensible Authentication Protocol' },
  { num: 74, abbr: 'ECB', full: 'Electronic Code Book' },
  { num: 75, abbr: 'ECC', full: 'Elliptic Curve Cryptography' },
  { num: 76, abbr: 'ECDHE', full: 'Elliptic Curve Diffie-Hellman Ephemeral' },
  { num: 77, abbr: 'ECDSA', full: 'Elliptic Curve Digital Signature Algorithm' },
  { num: 78, abbr: 'EDR', full: 'Endpoint Detection and Response' },
  { num: 79, abbr: 'EFS', full: 'Encrypted File System' },
  { num: 80, abbr: 'ERP', full: 'Enterprise Resource Planning' },
  { num: 81, abbr: 'ESN', full: 'Electronic Serial Number' },
  { num: 82, abbr: 'ESP', full: 'Encapsulated Security Payload' },
  { num: 83, abbr: 'FACL', full: 'File System Access Control List' },
  { num: 84, abbr: 'FDE', full: 'Full Disk Encryption' },
  { num: 85, abbr: 'FIM', full: 'File Integrity Management' },
  { num: 86, abbr: 'FPGA', full: 'Field Programmable Gate Array' },
  { num: 87, abbr: 'FRR', full: 'False Rejection Rate' },
  { num: 88, abbr: 'FTP', full: 'File Transfer Protocol' },
  { num: 89, abbr: 'FTPS', full: 'Secured File Transfer Protocol' },
  { num: 90, abbr: 'GCM', full: 'Galois Counter Mode' },
  { num: 91, abbr: 'GDPR', full: 'General Data Protection Regulation' },
  { num: 92, abbr: 'GPG', full: 'Gnu Privacy Guard' },
  { num: 93, abbr: 'GPO', full: 'Group Policy Object' },
  { num: 94, abbr: 'GPS', full: 'Global Positioning System' },
  { num: 95, abbr: 'GPU', full: 'Graphics Processing Unit' },
  { num: 96, abbr: 'GRE', full: 'Generic Routing Encapsulation' },
  { num: 97, abbr: 'HA', full: 'High Availability' },
  { num: 98, abbr: 'HDD', full: 'Hard Disk Drive' },
  { num: 99, abbr: 'HIDS', full: 'Host-based Intrusion Detection System' },
  { num: 100, abbr: 'HIPS', full: 'Host-based Intrusion Prevention System' },
  { num: 101, abbr: 'HMAC', full: 'Hashed Message Authentication Code' },
  { num: 102, abbr: 'HOTP', full: 'HMAC-based One-time Password' },
  { num: 103, abbr: 'HSM', full: 'Hardware Security Module' },
  { num: 104, abbr: 'HTML', full: 'Hypertext Markup Language' },
  { num: 105, abbr: 'HTTP', full: 'Hypertext Transfer Protocol' },
  { num: 106, abbr: 'HTTPS', full: 'Hypertext Transfer Protocol Secure' },
  { num: 107, abbr: 'HVAC', full: 'Heating, Ventilation Air Conditioning' },
  { num: 108, abbr: 'IaaS', full: 'Infrastructure as a Service' },
  { num: 109, abbr: 'IaC', full: 'Infrastructure as Code' },
  { num: 110, abbr: 'IAM', full: 'Identity and Access Management' },
  { num: 111, abbr: 'ICMP', full: 'Internet Control Message Protocol' },
  { num: 112, abbr: 'ICS', full: 'Industrial Control Systems' },
  { num: 113, abbr: 'IDEA', full: 'International Data Encryption Algorithm' },
  { num: 114, abbr: 'IDF', full: 'Intermediate Distribution Frame' },
  { num: 115, abbr: 'IdP', full: 'Identity Provider' },
  { num: 116, abbr: 'IDS', full: 'Intrusion Detection System' },
  { num: 117, abbr: 'IEEE', full: 'Institute of Electrical and Electronics Engineers' },
  { num: 118, abbr: 'IKE', full: 'Internet Key Exchange' },
  { num: 119, abbr: 'IM', full: 'Instant Messaging' },
  { num: 120, abbr: 'IMAP', full: 'Internet Message Access Protocol' },
  { num: 121, abbr: 'IoC', full: 'Indicators of Compromise' },
  { num: 122, abbr: 'IoT', full: 'Internet of Things' },
  { num: 123, abbr: 'IP', full: 'Internet Protocol' },
  { num: 124, abbr: 'IPS', full: 'Intrusion Prevention System' },
  { num: 125, abbr: 'IPSec', full: 'Internet Protocol Security' },
  { num: 126, abbr: 'IR', full: 'Incident Response' },
  { num: 127, abbr: 'IRC', full: 'Internet Relay Chat' },
  { num: 128, abbr: 'IRP', full: 'Incident Response Plan' },
  { num: 129, abbr: 'ISO', full: 'International Standards Organization' },
  { num: 130, abbr: 'ISP', full: 'Internet Service Provider' },
  { num: 131, abbr: 'ISSO', full: 'Information Systems Security Officer' },
  { num: 132, abbr: 'IV', full: 'Initialization Vector' },
  { num: 133, abbr: 'KDC', full: 'Key Distribution Center' },
  { num: 134, abbr: 'KEK', full: 'Key Encryption Key' },
  { num: 135, abbr: 'L2TP', full: 'Layer 2 Tunneling Protocol' },
  { num: 136, abbr: 'LAN', full: 'Local Area Network' },
  { num: 137, abbr: 'LDAP', full: 'Lightweight Directory Access Protocol' },
  { num: 138, abbr: 'LEAP', full: 'Lightweight Extensible Authentication Protocol' },
  { num: 139, abbr: 'MaaS', full: 'Monitoring as a Service' },
  { num: 140, abbr: 'MAC', full: 'Mandatory Access Control' },
  { num: 141, abbr: 'MAC', full: 'Media Access Control' },
  { num: 142, abbr: 'MAC', full: 'Message Authentication Code' },
  { num: 143, abbr: 'MAN', full: 'Metropolitan Area Network' },
  { num: 144, abbr: 'MBR', full: 'Master Boot Record' },
  { num: 145, abbr: 'MD5', full: 'Message Digest 5' },
  { num: 146, abbr: 'MDF', full: 'Main Distribution Frame' },
  { num: 147, abbr: 'MDM', full: 'Mobile Device Management' },
  { num: 148, abbr: 'MFA', full: 'Multifactor Authentication' },
  { num: 149, abbr: 'MFD', full: 'Multifunction Device' },
  { num: 150, abbr: 'MFP', full: 'Multifunction Printer' },
  { num: 151, abbr: 'ML', full: 'Machine Learning' },
  { num: 152, abbr: 'MMS', full: 'Multimedia Message Service' },
  { num: 153, abbr: 'MOA', full: 'Memorandum of Agreement' },
  { num: 154, abbr: 'MOU', full: 'Memorandum of Understanding' },
  { num: 155, abbr: 'MPLS', full: 'Multi-protocol Label Switching' },
  { num: 156, abbr: 'MSA', full: 'Master Service Agreement' },
  { num: 157, abbr: 'MSCHAP', full: 'Microsoft Challenge Handshake Authentication Protocol' },
  { num: 158, abbr: 'MSP', full: 'Managed Service Provider' },
  { num: 159, abbr: 'MSSP', full: 'Managed Security Service Provider' },
  { num: 160, abbr: 'MTBF', full: 'Mean Time Between Failures' },
  { num: 161, abbr: 'MTTF', full: 'Mean Time to Failure' },
  { num: 162, abbr: 'MTTR', full: 'Mean Time to Recover' },
  { num: 163, abbr: 'MTU', full: 'Maximum Transmission Unit' },
  { num: 164, abbr: 'NAC', full: 'Network Access Control' },
  { num: 165, abbr: 'NAT', full: 'Network Address Translation' },
  { num: 166, abbr: 'NDA', full: 'Non-disclosure Agreement' },
  { num: 167, abbr: 'NFC', full: 'Near Field Communication' },
  { num: 168, abbr: 'NGFW', full: 'Next-generation Firewall' },
  { num: 169, abbr: 'NIDS', full: 'Network-based Intrusion Detection System' },
  { num: 170, abbr: 'NIPS', full: 'Network-based Intrusion Prevention System' },
  { num: 171, abbr: 'NIST', full: 'National Institute of Standards & Technology' },
  { num: 172, abbr: 'NTFS', full: 'New Technology File System' },
  { num: 173, abbr: 'NTLM', full: 'New Technology LAN Manager' },
  { num: 174, abbr: 'NTP', full: 'Network Time Protocol' },
  { num: 175, abbr: 'OAUTH', full: 'Open Authorization' },
  { num: 176, abbr: 'OCSP', full: 'Online Certificate Status Protocol' },
  { num: 177, abbr: 'OID', full: 'Object Identifier' },
  { num: 178, abbr: 'OS', full: 'Operating System' },
  { num: 179, abbr: 'OSINT', full: 'Open-source Intelligence' },
  { num: 180, abbr: 'OSPF', full: 'Open Shortest Path First' },
  { num: 181, abbr: 'OT', full: 'Operational Technology' },
  { num: 182, abbr: 'OTA', full: 'Over the Air' },
  { num: 183, abbr: 'OVAL', full: 'Open Vulnerability Assessment Language' },
  { num: 184, abbr: 'P12', full: 'PKCS #12' },
  { num: 185, abbr: 'P2P', full: 'Peer to Peer' },
  { num: 186, abbr: 'PaaS', full: 'Platform as a Service' },
  { num: 187, abbr: 'PAC', full: 'Proxy Auto Configuration' },
  { num: 188, abbr: 'PAM', full: 'Privileged Access Management' },
  { num: 189, abbr: 'PAM', full: 'Pluggable Authentication Modules' },
  { num: 190, abbr: 'PAP', full: 'Password Authentication Protocol' },
  { num: 191, abbr: 'PAT', full: 'Port Address Translation' },
  { num: 192, abbr: 'PBKDF2', full: 'Password-based Key Derivation Function 2' },
  { num: 193, abbr: 'PBX', full: 'Private Branch Exchange' },
  { num: 194, abbr: 'PCAP', full: 'Packet Capture' },
  { num: 195, abbr: 'PCI DSS', full: 'Payment Card Industry Data Security Standard' },
  { num: 196, abbr: 'PDU', full: 'Power Distribution Unit' },
  { num: 197, abbr: 'PEAP', full: 'Protected Extensible Authentication Protocol' },
  { num: 198, abbr: 'PED', full: 'Personal Electronic Device' },
  { num: 199, abbr: 'PEM', full: 'Privacy Enhanced Mail' },
  { num: 200, abbr: 'PFS', full: 'Perfect Forward Secrecy' },
  { num: 201, abbr: 'PGP', full: 'Pretty Good Privacy' },
  { num: 202, abbr: 'PHI', full: 'Personal Health Information' },
  { num: 203, abbr: 'PII', full: 'Personally Identifiable Information' },
  { num: 204, abbr: 'PIV', full: 'Personal Identity Verification' },
  { num: 205, abbr: 'PKCS', full: 'Public Key Cryptography Standards' },
  { num: 206, abbr: 'PKI', full: 'Public Key Infrastructure' },
  { num: 207, abbr: 'POP', full: 'Post Office Protocol' },
  { num: 208, abbr: 'POTS', full: 'Plain Old Telephone Service' },
  { num: 209, abbr: 'PPP', full: 'Point-to-Point Protocol' },
  { num: 210, abbr: 'PPTP', full: 'Point-to-Point Tunneling Protocol' },
  { num: 211, abbr: 'PSK', full: 'Pre-shared Key' },
  { num: 212, abbr: 'PTZ', full: 'Pan-tilt-zoom' },
  { num: 213, abbr: 'PUP', full: 'Potentially Unwanted Program' },
  { num: 214, abbr: 'RA', full: 'Recovery Agent' },
  { num: 215, abbr: 'RA', full: 'Registration Authority' },
  { num: 216, abbr: 'RACE', full: 'Research and Development in Advanced Communications Technologies in Europe' },
  { num: 217, abbr: 'RAD', full: 'Rapid Application Development' },
  { num: 218, abbr: 'RADIUS', full: 'Remote Authentication Dial-in User Service' },
  { num: 219, abbr: 'RAID', full: 'Redundant Array of Inexpensive Disks' },
  { num: 220, abbr: 'RAS', full: 'Remote Access Server' },
  { num: 221, abbr: 'RAT', full: 'Remote Access Trojan' },
  { num: 222, abbr: 'RBAC', full: 'Role-based Access Control' },
  { num: 223, abbr: 'RBAC', full: 'Rule-based Access Control' },
  { num: 224, abbr: 'RC4', full: 'Rivest Cipher version 4' },
  { num: 225, abbr: 'RDP', full: 'Remote Desktop Protocol' },
  { num: 226, abbr: 'RFID', full: 'Radio Frequency Identifier' },
  { num: 227, abbr: 'RIPEMD', full: 'RACE Integrity Primitives Evaluation Message Digest' },
  { num: 228, abbr: 'ROI', full: 'Return on Investment' },
  { num: 229, abbr: 'RPO', full: 'Recovery Point Objective' },
  { num: 230, abbr: 'RSA', full: 'Rivest, Shamir, & Adleman' },
  { num: 231, abbr: 'RTBH', full: 'Remotely Triggered Black Hole' },
  { num: 232, abbr: 'RTO', full: 'Recovery Time Objective' },
  { num: 233, abbr: 'RTOS', full: 'Real-time Operating System' },
  { num: 234, abbr: 'RTP', full: 'Real-time Transport Protocol' },
  { num: 235, abbr: 'S/MIME', full: 'Secure/Multipurpose Internet Mail Extensions' },
  { num: 236, abbr: 'SaaS', full: 'Software as a Service' },
  { num: 237, abbr: 'SAE', full: 'Simultaneous Authentication of Equals' },
  { num: 238, abbr: 'SAML', full: 'Security Assertions Markup Language' },
  { num: 239, abbr: 'SAN', full: 'Storage Area Network' },
  { num: 240, abbr: 'SAN', full: 'Subject Alternative Name' },
  { num: 241, abbr: 'SASE', full: 'Secure Access Service Edge' },
  { num: 242, abbr: 'SCADA', full: 'Supervisory Control and Data Acquisition' },
  { num: 243, abbr: 'SCAP', full: 'Security Content Automation Protocol' },
  { num: 244, abbr: 'SCEP', full: 'Simple Certificate Enrollment Protocol' },
  { num: 245, abbr: 'SD-WAN', full: 'Software-defined Wide Area Network' },
  { num: 246, abbr: 'SDK', full: 'Software Development Kit' },
  { num: 247, abbr: 'SDLC', full: 'Software Development Lifecycle' },
  { num: 248, abbr: 'SDLM', full: 'Software Development Lifecycle Methodology' },
  { num: 249, abbr: 'SDN', full: 'Software-defined Networking' },
  { num: 250, abbr: 'SE Linux', full: 'Security-enhanced Linux' },
  { num: 251, abbr: 'SED', full: 'Self-encrypting Drives' },
  { num: 252, abbr: 'SEH', full: 'Structured Exception Handler' },
  { num: 253, abbr: 'SFTP', full: 'Secured File Transfer Protocol' },
  { num: 254, abbr: 'SHA', full: 'Secure Hashing Algorithm' },
  { num: 255, abbr: 'SHTTP', full: 'Secure Hypertext Transfer Protocol' },
  { num: 256, abbr: 'SIEM', full: 'Security Information and Event Management' },
  { num: 257, abbr: 'SIM', full: 'Subscriber Identity Module' },
  { num: 258, abbr: 'SLA', full: 'Service-level Agreement' },
  { num: 259, abbr: 'SLE', full: 'Single Loss Expectancy' },
  { num: 260, abbr: 'SMS', full: 'Short Message Service' },
  { num: 261, abbr: 'SMTP', full: 'Simple Mail Transfer Protocol' },
  { num: 262, abbr: 'SMTPS', full: 'Simple Mail Transfer Protocol Secure' },
  { num: 263, abbr: 'SNMP', full: 'Simple Network Management Protocol' },
  { num: 264, abbr: 'SOAP', full: 'Simple Object Access Protocol' },
  { num: 265, abbr: 'SOAR', full: 'Security Orchestration, Automation, Response' },
  { num: 266, abbr: 'SoC', full: 'System on Chip' },
  { num: 267, abbr: 'SOC', full: 'Security Operations Center' },
  { num: 268, abbr: 'SOW', full: 'Statement of Work' },
  { num: 269, abbr: 'SPF', full: 'Sender Policy Framework' },
  { num: 270, abbr: 'SPIM', full: 'Spam over Internet Messaging' },
  { num: 271, abbr: 'SQL', full: 'Structured Query Language' },
  { num: 272, abbr: 'SQLi', full: 'SQL Injection' },
  { num: 273, abbr: 'SRTP', full: 'Secure Real-Time Protocol' },
  { num: 274, abbr: 'SSD', full: 'Solid State Drive' },
  { num: 275, abbr: 'SSH', full: 'Secure Shell' },
  { num: 276, abbr: 'SSL', full: 'Secure Sockets Layer' },
  { num: 277, abbr: 'SSO', full: 'Single Sign-on' },
  { num: 278, abbr: 'STIX', full: 'Structured Threat Information eXchange' },
  { num: 279, abbr: 'SWG', full: 'Secure Web Gateway' },
  { num: 280, abbr: 'TACACS+', full: 'Terminal Access Controller Access Control System' },
  { num: 281, abbr: 'TAXII', full: 'Trusted Automated eXchange of Indicator Information' },
  { num: 282, abbr: 'TCP/IP', full: 'Transmission Control Protocol/Internet Protocol' },
  { num: 283, abbr: 'TGT', full: 'Ticket Granting Ticket' },
  { num: 284, abbr: 'TKIP', full: 'Temporal Key Integrity Protocol' },
  { num: 285, abbr: 'TLS', full: 'Transport Layer Security' },
  { num: 286, abbr: 'TOC', full: 'Time-of-check' },
  { num: 287, abbr: 'TOTP', full: 'Time-based One-time Password' },
  { num: 288, abbr: 'TOU', full: 'Time-of-use' },
  { num: 289, abbr: 'TPM', full: 'Trusted Platform Module' },
  { num: 290, abbr: 'TTP', full: 'Tactics, Techniques, and Procedures' },
  { num: 291, abbr: 'TSIG', full: 'Transaction Signature' },
  { num: 292, abbr: 'UAT', full: 'User Acceptance Testing' },
  { num: 293, abbr: 'UAV', full: 'Unmanned Aerial Vehicle' },
  { num: 294, abbr: 'UDP', full: 'User Datagram Protocol' },
  { num: 295, abbr: 'UEFI', full: 'Unified Extensible Firmware Interface' },
  { num: 296, abbr: 'UEM', full: 'Unified Endpoint Management' },
  { num: 297, abbr: 'UPS', full: 'Uninterruptable Power Supply' },
  { num: 298, abbr: 'URI', full: 'Uniform Resource Identifier' },
  { num: 299, abbr: 'URL', full: 'Universal Resource Locator' },
  { num: 300, abbr: 'USB', full: 'Universal Serial Bus' },
  { num: 301, abbr: 'USB OTG', full: 'USB On the Go' },
  { num: 302, abbr: 'UTM', full: 'Unified Threat Management' },
  { num: 303, abbr: 'UTP', full: 'Unshielded Twisted Pair' },
  { num: 304, abbr: 'VBA', full: 'Visual Basic' },
  { num: 305, abbr: 'VDE', full: 'Virtual Desktop Environment' },
  { num: 306, abbr: 'VDI', full: 'Virtual Desktop Infrastructure' },
  { num: 307, abbr: 'VLAN', full: 'Virtual Local Area Network' },
  { num: 308, abbr: 'VLSM', full: 'Variable Length Subnet Masking' },
  { num: 309, abbr: 'VM', full: 'Virtual Machine' },
  { num: 310, abbr: 'VoIP', full: 'Voice over IP' },
  { num: 311, abbr: 'VPC', full: 'Virtual Private Cloud' },
  { num: 312, abbr: 'VPN', full: 'Virtual Private Network' },
  { num: 313, abbr: 'VTC', full: 'Video Teleconferencing' },
  { num: 314, abbr: 'WAF', full: 'Web Application Firewall' },
  { num: 315, abbr: 'WAP', full: 'Wireless Access Point' },
  { num: 316, abbr: 'WEP', full: 'Wired Equivalent Privacy' },
  { num: 317, abbr: 'WIDS', full: 'Wireless Intrusion Detection System' },
  { num: 318, abbr: 'WIPS', full: 'Wireless Intrusion Prevention System' },
  { num: 319, abbr: 'WO', full: 'Work Order' },
  { num: 320, abbr: 'WPA', full: 'Wi-Fi Protected Access' },
  { num: 321, abbr: 'WPS', full: 'Wi-Fi Protected Setup' },
  { num: 322, abbr: 'WTLS', full: 'Wireless TLS' },
  { num: 323, abbr: 'XDR', full: 'Extended Detection and Response' },
  { num: 324, abbr: 'XML', full: 'Extensible Markup Language' },
  { num: 325, abbr: 'XOR', full: 'Exclusive Or' },
  { num: 326, abbr: 'XSRF', full: 'Cross-site Request Forgery' },
  { num: 327, abbr: 'XSS', full: 'Cross-site Scripting' }
];

async function main() {
  const { data: topics, error } = await supabase.from('topics').select('name');

  if (error) {
    console.log('Error:', error);
    return;
  }

  // Create a set of lowercase topic names for matching
  const existingNames = new Set(topics.map(t => t.name.toLowerCase()));

  const missing = [];
  const found = [];

  for (const item of checkList) {
    // Check if either the abbreviation or full name exists (case-insensitive)
    const abbrLower = item.abbr.toLowerCase();
    const fullLower = item.full.toLowerCase();

    // Also check common formats like "Name (ABBR)" or "ABBR - Name"
    let isFound = false;
    for (const existingName of existingNames) {
      if (existingName === abbrLower ||
          existingName === fullLower ||
          existingName.includes(abbrLower) ||
          existingName.includes(fullLower.substring(0, 20))) {
        isFound = true;
        break;
      }
    }

    if (isFound) {
      found.push(item);
    } else {
      missing.push(item);
    }
  }

  console.log('=== FOUND in database (' + found.length + ') ===\n');

  console.log('\n=== MISSING from database (' + missing.length + ') ===\n');
  missing.forEach(item => {
    console.log(item.num + '. ' + item.abbr + ' - ' + item.full);
  });
}

main().catch(console.error);
